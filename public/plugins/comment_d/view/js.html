<script id="test" type="text/html">
    <% if (isAdmin) { %>

    <h1><%=title%></h1>
    <ul>
        <% for (var i = 0; i < list.length; i ++) { %>
        <li>索引 <%= i + 1 %> ：<%= list[i] %></li>
        <% } %>
    </ul>

    <% } %>

    data: <%=$data%>
</script>

<script class="write-function-block-tpl" id="test22" type="text/html">
    <div class="write-function-block" style="display: none;">
        <div data-v-b36e9416="" class="emoji-modal-wrap">
            <a data-v-b36e9416="" class="emoji">
                <i data-v-b36e9416="" class="iconfont ic-comment-emotions"></i>
            </a>
        </div>
        <div class="hint">Ctrl+Return 发表</div>
        <a class="btn btn-send">发送</a>
        <a class="cancel">取消</a>
    </div>
</script>

<script class="new-comment-tpl" type="text/html">
    <form class="new-comment">
        <textarea placeholder="写下你的评论..."></textarea>
        <div class="write-function-block">
            <div data-v-b36e9416="" class="emoji-modal-wrap">
                <a data-v-b36e9416="" class="emoji">
                    <i data-v-b36e9416="" class="iconfont ic-comment-emotions"></i>
                </a>
            </div>
            <div class="hint">Ctrl+Return 发表</div>
            <a class="btn btn-send">发送</a>
            <a class="cancel">取消</a>
        </div>
    </form>
</script>


<script>
$(function(){
    var data_json = {
        "page": 1,
        "total_pages": 1,
        "comment_exist": true,
        "comments": [
            {
                "id": 8438826,
                "compiled_content": "博主您好，请问angular2搭建的项目对typescript的要求高不呢？",
                "floor": 2,
                "note_id": 9532997,
                "user_id": 4122802,
                "created_at": "2017-02-28T12:46:38.000+08:00",
                "user": {
                    "id": 4122802,
                    "slug": "36020b860fed",
                    "nickname": "reysun",
                    "avatar": "http://upload.jianshu.io/users/upload_avatars/4122802/c5ad2db019ad",
                    "is_author": false
                },
                "liked": false,
                "likes_count": 0,
                "children_count": 2,
                "children": [
                    {
                        "id": 8438889,
                        "compiled_content": "<a href=\"/users/36020b860fed\" class=\"maleskine-author\" target=\"_blank\" data-user-slug=\"36020b860fed\">@ReySun</a>  环境搭建倒不要求，但后期的代码要求，最好先去了解下typescript",
                        "user_id": 4504891,
                        "parent_id": 8438826,
                        "created_at": "2017-02-28T12:48:35.000+08:00",
                        "user": {
                            "id": 4504891,
                            "slug": "84f19a3d581e",
                            "nickname": "fwytech"
                        }
                    },
                    {
                        "id": 8440056,
                        "compiled_content": "<a href=\"/users/84f19a3d581e\" class=\"maleskine-author\" target=\"_blank\" data-user-slug=\"84f19a3d581e\">@fwytech</a> 嗯嗯，好的",
                        "user_id": 4122802,
                        "parent_id": 8438826,
                        "created_at": "2017-02-28T13:26:07.000+08:00",
                        "user": {
                            "id": 4122802,
                            "slug": "36020b860fed",
                            "nickname": "reysun"
                        }
                    }
                ]
            },
            {
                "id": 8547003,
                "compiled_content": "<img src=\"http://assets.jianshu.io/assets/emojis/blush.png\" alt=\":blush:\" title=\":blush:\" class=\"emoji\" width=\"20\" height=\"20\">  很实用，谢谢",
                "floor": 3,
                "note_id": 9532997,
                "user_id": 4897498,
                "created_at": "2017-03-03T15:11:18.000+08:00",
                "user": {
                    "id": 4897498,
                    "slug": "106d40cc7abe",
                    "nickname": "焦糖丶",
                    "avatar": "http://upload.jianshu.io/users/upload_avatars/4897498/0cfd2c58-caab-44aa-8c7b-b75710161e00",
                    "is_author": false
                },
                "liked": false,
                "likes_count": 0,
                "children_count": 0,
                "children": []
            },
            {
                "id": 9576177,
                "compiled_content": "楼主，可以用markdown的语法黏贴代码",
                "floor": 4,
                "note_id": 9532997,
                "user_id": 4605151,
                "created_at": "2017-03-31T11:48:58.000+08:00",
                "user": {
                    "id": 4605151,
                    "slug": "e53a4b002124",
                    "nickname": "sunnylovejenny",
                    "avatar": "http://upload.jianshu.io/users/upload_avatars/4605151/0e43abc7-24c7-43f9-b553-706979244dd1",
                    "is_author": false
                },
                "liked": false,
                "likes_count": 0,
                "children_count": 1,
                "children": [
                    {
                        "id": 9582852,
                        "compiled_content": "<a href=\"/users/e53a4b002124\" class=\"maleskine-author\" target=\"_blank\" data-user-slug=\"e53a4b002124\">@雪覆2011</a> <img src=\"//static.jianshu.io/assets/emojis/+1.png\" alt=\":+1:\" title=\":+1:\" class=\"emoji\" width=\"20\" height=\"20\">OK！",
                        "user_id": 4504891,
                        "parent_id": 9576177,
                        "created_at": "2017-03-31T15:59:23.000+08:00",
                        "user": {
                            "id": 4504891,
                            "slug": "84f19a3d581e",
                            "nickname": "fwytech"
                        }
                    }
                ]
            },
            {
                "id": 10500922,
                "compiled_content": "MEAN可是个大工程 估计要连载二三十章吧(￣▽￣)\"  加油！",
                "floor": 5,
                "note_id": 9532997,
                "user_id": 5275529,
                "created_at": "2017-05-01T21:55:59.000+08:00",
                "user": {
                    "id": 5275529,
                    "slug": "dd78fdb24823",
                    "nickname": "游戏化",
                    "avatar": "http://upload.jianshu.io/users/upload_avatars/5275529/e18e7b48-4cd9-4fc8-9a88-a1ea6f4afc1a.png",
                    "is_author": false
                },
                "liked": false,
                "likes_count": 0,
                "children_count": 0,
                "children": []
            },
            {
                "id": 11036387,
                "compiled_content": "您好，我目前正在学习angular2.0，看到您的博文，感觉对我学习很有帮助。就是博主最近好像没在更新，想请教下，angular2的项目打包到express的public目录下，之后，nodejs应该怎么和前端进行交互呢。",
                "floor": 6,
                "note_id": 9532997,
                "user_id": 6118658,
                "created_at": "2017-05-20T01:07:19.000+08:00",
                "user": {
                    "id": 6118658,
                    "slug": "d94d22986178",
                    "nickname": "Choson_3ff6",
                    "avatar": "http://upload.jianshu.io/users/upload_avatars/6118658/0eed6ff1-6120-4e9b-b4c9-e415c0a2650d",
                    "is_author": false
                },
                "liked": false,
                "likes_count": 0,
                "children_count": 0,
                "children": []
            },
            {
                "id": 12975968,
                "compiled_content": "博主，项目下载下来，直接执行，报这个错是什么情况呢？<br>&gt; node-blog@0.0.0 start F:\\blog\\1-9_node-blog\\node-blog<br>&gt; node ./bin/www<br><br>module.js:457<br>    throw err;<br>    ^<br><br>Error: Cannot find module 'F:\\blog\\1-9_node-blog\\node-blog\\bin\\www'<br>    at Function.Module._resolveFilename (module.js:455:15)<br>    at Function.Module._load (module.js:403:25)<br>    at Module.runMain (module.js:590:10)<br>    at run (bootstrap_node.js:394:7)<br>    at startup (bootstrap_node.js:149:9)<br>    at bootstrap_node.js:509:3<br>npm ERR! code ELIFECYCLE<br>npm ERR! errno 1<br>npm ERR! node-blog@0.0.0 start: `node ./bin/www`<br>npm ERR! Exit status 1<br>npm ERR!<br>npm ERR! Failed at the node-blog@0.0.0 start script.<br>npm ERR! This is probably not a problem with npm. There is likely additional log<br>ging output above.",
                "floor": 7,
                "note_id": 9532997,
                "user_id": 6535802,
                "created_at": "2017-07-18T17:21:12.000+08:00",
                "user": {
                    "id": 6535802,
                    "slug": "5f6351a1abf7",
                    "nickname": "FD365",
                    "avatar": "http://upload.jianshu.io/users/upload_avatars/6535802/b9b4ca67-5a13-4f33-8bba-6bb9cab6244c",
                    "is_author": false
                },
                "liked": false,
                "likes_count": 0,
                "children_count": 0,
                "children": []
            }
        ]
    };
//    var writeFunctionBlockTpl = $('.write-function-block-tpl').html();
    var html22 = template('test22');
    $(".new-comment:first textarea").one('focus',function () {
//        $(".new-comment:first").append(writeFunctionBlockTpl);
        $(".new-comment:first").append(html22);
        $(".new-comment:first .write-function-block").slideDown();
    })


    var data = {
        title: '基本例子',
        isAdmin: true,
        list: ['文艺', '博客', '摄影', '电影', '民谣', '旅行', '吉他']
    };
    var html = template('test', data);
    document.getElementById('contentddd').innerHTML = html;

//    回复后，会返回一个json
//    {
//        "id": 16777318,
//        "compiled_content": "<a href=\"/users/6cc0ebf87956\" class=\"maleskine-author\" target=\"_blank\" data-user-slug=\"6cc0ebf87956\">@心蓝丫头</a> 感觉还可以的啊 起码有文章等辅助，对老师水平更加知根知底吧 也算是一个互相了解的通道 O(∩_∩)O~",
//        "user_id": 8039418,
//        "parent_id": 16772188,
//        "created_at": "2017-10-30T20:10:17.000+08:00",
//        "user": {
//        "id": 8039418,
//            "slug": "c1fe99e37fad",
//            "nickname": "种棵白菜过大年"
//    }
//    }

})
</script>